!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i="http://www.w3.org/2000/svg",o=function(){throw new Error("Progress component is missing parameter")},s=["normal","animated","hidden"],a=90,l=a*Math.PI*2,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!document.getElementById(t))throw new Error("There is no element with id "+t+" in DOM");if(!s.includes(r))throw new Error("List of modes includes only: normal, animated, hidden");(n<0||n>100)&&(n=100),this.containerId=t,this.value=n,this.mode=r,this.animated="",this.init()}return r(e,[{key:"init",value:function(){var e=document.getElementById(this.containerId),t=function(){var e=document.createElementNS(i,"svg");return e.setAttributeNS(null,"id","progress"),e.setAttributeNS(null,"class","progress-bar"),e.setAttributeNS(null,"width","200"),e.setAttributeNS(null,"height","200"),e.setAttributeNS(null,"version","1.1"),e.setAttributeNS(null,"viewPort","0 0 100 100"),e.style.transform="rotate(-90deg)",e}(),n=c("inner",this.value),r=c("outer",this.value);t.appendChild(n),t.appendChild(r),e.appendChild(t)}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!(e<0||e>100)&&(e!==this.value&&"normal"===this.mode&&(!!e.match(/\d+/g)&&(this._value=e,!0)))}},{key:"setMod",value:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(this.mode=i,this.animated=o,i){case"normal":f(this.circleDOM),r=this.containerId,m(document.querySelector("#"+r+" svg"),1e3,"in");break;case"animated":"yes"===o?(e=this.circleDOM,t=1e3,n={start:performance.now(),total:t},d=requestAnimationFrame(function t(r){n.elapsed=r-n.start;var i=h(n);e.style.transform="rotate("+360*i+"deg)",1==i&&(n.start=r),d=requestAnimationFrame(t)})):f(this.circleDOM);break;case"hidden":!function(e){m(document.querySelector("#"+e+" svg"),1e3,"out")}(this.containerId)}}},{key:"_value",set:function(e){if(this.circleDOM){var t=this.circleDOM,n=(100-e)/100*l;t.style.strokeDashoffset=n}this.value=e}},{key:"circleDOM",get:function(){var e=this.containerId;return document.querySelector("#"+e+" .progress-bar__circle--outer")}}]),e}();function c(e,t){var n=document.createElementNS(i,"circle"),r=(100-t)/100*l;switch(n.style.strokeDashoffset=0,n.style.transition="stroke-dashoffset .5s ease",n.style.stroke="#cccccc",n.style.strokeWidth="20px",n.style.transformOrigin="center center",n.setAttributeNS(null,"cx",100),n.setAttributeNS(null,"cy",100),n.setAttributeNS(null,"r",a),n.setAttributeNS(null,"stroke-dasharray",l),n.setAttributeNS(null,"fill","transparent"),n.setAttributeNS(null,"stroke-dashoffset",100),e){case"inner":n.setAttributeNS(null,"class","progress-bar__circle progress-bar__circle--inner");break;case"outer":n.setAttributeNS(null,"class","progress-bar__circle progress-bar__circle--outer"),n.style.stroke="#ffdb4d",n.style.strokeLinecap="round",n.style.strokeDashoffset=r}return n}var d=null,h=function(e){var t=e.elapsed,n=e.total;return Math.min(t/n,1)};function f(e){e.style.transform="rotate(-90deg)",cancelAnimationFrame(d)}function m(e,t,n){var r={start:performance.now(),total:t};requestAnimationFrame(function t(i){r.elapsed=i-r.start;var o=h(r),s=function(e){return Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1}(o);"in"===n?e.style.transform="scale("+s+")":"out"===n&&(e.style.transform="scale("+(1-s)+")"),1!=o&&requestAnimationFrame(t)})}t.default=u},function(e,t,n){"use strict";n(6);var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var s=void 0;function a(e){parseInt(this.value);this.value>100?this.value=this.value.slice(0,2):s.setValue(this.value)}function l(e){this.checked?s.setMod("animated","yes"):s.setMod("normal")}function u(e){this.checked?s.setMod("hidden"):s.setMod("normal")}document.addEventListener("DOMContentLoaded",function(){(s=new o.default("container")).setMod("normal");var e=document.getElementById("input-value"),t=document.getElementById("switch-animate"),n=document.getElementById("switch-hide");e.oninput=a,t.onchange=l,n.onchange=u})},,,,,function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9Qcm9ncmVzcy5qcyIsIndlYnBhY2s6Ly8vLi9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInN2Z05TIiwicmVxdWlyZWQiLCJFcnJvciIsIm1vZGVzIiwicmFkaXVzIiwiY2lyY2xlTGVuZ3RoIiwiTWF0aCIsIlBJIiwiUHJvZ3Jlc3MiLCJjb250YWluZXJJZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIm1vZGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImluY2x1ZGVzIiwiYW5pbWF0ZWQiLCJpbml0IiwiY29udGFpbmVyIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNyZWF0ZVN2ZyIsImlubmVyQ2lyY2xlIiwiY3JlYXRlQ2lyY2xlIiwib3V0ZXJDaXJjbGUiLCJhcHBlbmRDaGlsZCIsIm1hdGNoIiwiX3ZhbHVlIiwiY2lyY2xlIiwicGVyaW9kIiwidGltZSIsInN0b3BBbmltYXRpb24iLCJjaXJjbGVET00iLCJzY2FsZUluT3V0IiwicXVlcnlTZWxlY3RvciIsInN0YXJ0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0b3RhbCIsInJlcUlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZHJhdyIsImVsYXBzZWQiLCJwcm9ncmVzcyIsImdldFByb2dyZXNzIiwiaGlkZSIsIm5ld1ZhbHVlIiwicGVyY2VudGFnZSIsInN0cm9rZURhc2hvZmZzZXQiLCJ0eXBlIiwidHJhbnNpdGlvbiIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwidHJhbnNmb3JtT3JpZ2luIiwic3Ryb2tlTGluZWNhcCIsIl9yZWYiLCJtaW4iLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImR1cmF0aW9uIiwiZGlyZWN0aW9uIiwicG93Iiwic2luIiwiZWFzZU91dEVsYXN0aWMiLCJfUHJvZ3Jlc3MiLCJoYW5kbGVWYWx1ZSIsImV2ZW50IiwicGFyc2VJbnQiLCJzbGljZSIsInNldFZhbHVlIiwiaGFuZGxlU3dpdGNoQW5pbWF0ZSIsImNoZWNrZWQiLCJzZXRNb2QiLCJoYW5kbGVTd2l0Y2hIaWRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9Qcm9ncmVzczIiLCJkZWZhdWx0IiwiaW5wdXRWYWx1ZSIsInN3aXRjaEFuaW1hdGUiLCJzd2l0Y2hIaWRlIiwib25pbnB1dCIsIm9uY2hhbmdlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNB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QUFJOEUsT0FBV3JDLEVBa0JmLFNBQVMwRCxFQUFZQyxHQUNMQyxTQUFTekQsS0FBS3hCLE9BQzVCd0IsS0FBS3hCLE1BQVEsSUFDUndCLEtBQUt4QixNQUFRd0IsS0FBS3hCLE1BQU1rRixNQUFNLEVBQUcsR0FDbEN4QixFQUFTeUIsU0FBUzNELEtBQUt4QixPQUU3QixTQUFTb0YsRUFBb0JKLEdBQzNCeEQsS0FBSzZELFFBQVUzQixFQUFTNEIsT0FBTyxXQUFZLE9BQVM1QixFQUFTNEIsT0FBTyxVQUd0RSxTQUFTQyxFQUFpQlAsR0FDeEJ4RCxLQUFLNkQsUUFBVTNCLEVBQVM0QixPQUFPLFVBQVk1QixFQUFTNEIsT0FBTyxVQTNCN0Q3RCxTQUFTK0QsaUJBQWlCLG1CQUUxQixZQUNFOUIsRUFBVyxJQUFBK0IsRUFBQUMsUUFBYSxjQUNmSixPQUFPLFVBRWhCLElBQUlLLEVBQWFsRSxTQUFTQyxlQUFlLGVBQ3JDa0UsRUFBZ0JuRSxTQUFTQyxlQUFlLGtCQUN4Q21FLEVBQWFwRSxTQUFTQyxlQUFlLGVBRXpDaUUsRUFBV0csUUFBVWYsRUFFckJhLEVBQWNHLFNBQVdYLEVBQ3pCUyxFQUFXRSxTQUFXUiIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8qKiBAbW9kdWxlIFByb2dyZXNzXG4gKiAgQGF1dGhvciBEZW5pcyBadXlrb3YgPGRlbmRqZXRAZ21haWwuY29tPlxuICovXG5cbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuLy8gZGV0ZWN0IGVtcHR5IHBhcmFtZXRlcnMgaW4gZnVuY3Rpb25zXG5jb25zdCByZXF1aXJlZCA9ICgpID0+IHtcbiAgdGhyb3cgbmV3IEVycm9yKCdQcm9ncmVzcyBjb21wb25lbnQgaXMgbWlzc2luZyBwYXJhbWV0ZXInKTtcbn07XG4vKiogQGNvbnN0YW50IHthcnJheX0gKi9cbmNvbnN0IG1vZGVzID0gWydub3JtYWwnLCAnYW5pbWF0ZWQnLCAnaGlkZGVuJ107XG5cbi8qKiBAY29uc3RhbnQge251bWJlcn0gKi9cbmNvbnN0IHJhZGl1cyA9IDkwO1xuXG4vKiogQGNvbnN0YW50IHtudW1iZXJ9ICovXG5jb25zdCBjaXJjbGVMZW5ndGggPSByYWRpdXMgKiBNYXRoLlBJICogMjtcblxuLyoqIEBjb25zdGFudCB7bnVtYmVyfSAqL1xuY29uc3QgYW5pbWF0aW9uUGVyaW9kID0gMTAwMDtcblxuLyoqIEBjb25zdGFudCB7c3RyaW5nfSAqL1xuY29uc3Qgb3V0ZXJDaXJjbGVDbGFzcyA9ICdwcm9ncmVzcy1iYXJfX2NpcmNsZS0tb3V0ZXInO1xuXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIGEgcHJvZ3Jlc3MgYmFyLiAqL1xuY2xhc3MgUHJvZ3Jlc3Mge1xuICAvKipcbiAgICogQ3JlYXRlIGEgcHJvZ3Jlc3MgYmFyLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRhaW5lcklkIC0gRE9NIGNvbnRhaW5lciBpZCB0byBwdXQgcHJvZ3Jlc3MgYmFyIGluLiBJZiBjb250YWluZXJJZCBpcyBlbXB0eSB0aGVuIHRocm93IGFuIGVycm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBJbml0aWFsIHZhbHVlIG9mIHBlcmNlbnRhZ2UgZm9yIHByb2dyZXNzIGJhci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBJbml0aWFsIHZhbHVlIGZvciBtb2RlLiBWYWx1ZXMgYXJlIHBvc3NpYmxlOiBub3JtYWwsIGFuaW1hdGVkIGFuZCBoaWRkZW4uXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJJZCA9IHJlcXVpcmVkKCksIHZhbHVlID0gMTAsIG1vZGUgPSAnbm9ybWFsJykge1xuICAgIC8vIGNoZWNrIGlmIGNvbnRhaWVuciBleGlzdHMgaW4gRE9NXG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gZWxlbWVudCB3aXRoIGlkICR7Y29udGFpbmVySWR9IGluIERPTWApO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIG1vZGVzIGluY2x1ZGUgcGFyYW1ldGVyIG1vZGVcbiAgICBpZiAoIW1vZGVzLmluY2x1ZGVzKG1vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYExpc3Qgb2YgbW9kZXMgaW5jbHVkZXMgb25seTogbm9ybWFsLCBhbmltYXRlZCwgaGlkZGVuYCk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgdmFsdWUgaXMgaW4gc3BlY2lmaWVkIGludGVydmFsXG4gICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEwMCkgdmFsdWUgPSAxMDA7XG5cbiAgICB0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVySWQ7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5hbmltYXRlZCA9ICcnO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG4gIC8vIGNyZWF0aW5nIHByb2dyZXNzIGJhciBhbmQgYXBwZW5kaW5nIHRvIERPTVxuICBpbml0KCkge1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbnRhaW5lcklkKTtcbiAgICBsZXQgc3ZnID0gY3JlYXRlU3ZnKCk7XG4gICAgbGV0IGlubmVyQ2lyY2xlID0gY3JlYXRlQ2lyY2xlKCdpbm5lcicsIHRoaXMudmFsdWUpO1xuICAgIGxldCBvdXRlckNpcmNsZSA9IGNyZWF0ZUNpcmNsZSgnb3V0ZXInLCB0aGlzLnZhbHVlKTtcblxuICAgIHN2Zy5hcHBlbmRDaGlsZChpbm5lckNpcmNsZSk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKG91dGVyQ2lyY2xlKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgfVxuICAvKipcbiAgICogTmV3IHZhbHVlIHNldHRlclxuICAgKiBAcGFyYW0ge251bWJlcn0gbmV3VmFsdWUgLSBWYWx1ZSBmcm9tIDAgdG8gMTAwLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG51bWJlciBpcyBjb3JyZWN0XG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZSA9IDApIHtcbiAgICAvLyBjaGVjayBpZiB2YWx1ZSBpcyBpbiBzcGVjaWZpZWQgaW50ZXJ2YWxcbiAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIGNoZWNrIGlmIHZhbHVlIGRpZG4ndCBjaGFuZ2Ugb3IgbW9kZSBpcyBhbmltYXRlZCBvciBoaWRkZW5cbiAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUgfHwgdGhpcy5tb2RlICE9PSAnbm9ybWFsJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBjaGVjayBpZiBudW1iZXIgaXMgZGlnaXRcbiAgICBpZiAoIXZhbHVlLm1hdGNoKC9cXGQrL2cpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gdmFsdWUgc2V0dGVyXG4gIHNldCBfdmFsdWUobmV3VmFsdWUpIHtcbiAgICAvLyBpZiBwcm9ncmVzcyBpbml0aWFsaXplZCB0aGVuIGhhbmRsZSB2YWx1ZVxuICAgIGlmICh0aGlzLmNpcmNsZURPTSkge1xuICAgICAgY29uc3QgY2lyY2xlID0gdGhpcy5jaXJjbGVET007XG4gICAgICAvLyBnZXQgcGVyY2VudGFnZSBmcm9tIGNpcmNsZSBsZW5ndGhcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoMTAwIC0gbmV3VmFsdWUpIC8gMTAwICogY2lyY2xlTGVuZ3RoO1xuICAgICAgY2lyY2xlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBwZXJjZW50YWdlO1xuICAgIH1cblxuICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgUHJvZ3Jlc3MgYmFyIG1vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gTm9ybWFsLCBhbWltYXRlZCBvciBoaWRkZW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhbmltYXRlZCAtIFllcyBvciBlbXB0eSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgY2lyY2xlIGxlbmd0aC5cbiAgICovXG4gIHNldE1vZChtb2RlID0gJ25vcm1hbCcsIGFuaW1hdGVkID0gJycpIHtcbiAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIHRoaXMuYW5pbWF0ZWQgPSBhbmltYXRlZDtcblxuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgc3RvcEFuaW1hdGlvbih0aGlzLmNpcmNsZURPTSk7XG4gICAgICAgIHNob3codGhpcy5jb250YWluZXJJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYW5pbWF0ZWQnOlxuICAgICAgICBhbmltYXRlZCA9PT0gJ3llcydcbiAgICAgICAgICA/IHN0YXJ0QW5pbWF0aW9uKHRoaXMuY2lyY2xlRE9NLCBhbmltYXRpb25QZXJpb2QpXG4gICAgICAgICAgOiBzdG9wQW5pbWF0aW9uKHRoaXMuY2lyY2xlRE9NKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoaWRkZW4nOlxuICAgICAgICBoaWRlKHRoaXMuY29udGFpbmVySWQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLy8gZ2V0IGNpcmNsZSBET00gb2JqZWN0XG4gIGdldCBjaXJjbGVET00oKSB7XG4gICAgY29uc3QgeyBjb250YWluZXJJZCB9ID0gdGhpcztcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y29udGFpbmVySWR9IC4ke291dGVyQ2lyY2xlQ2xhc3N9YCk7XG4gIH1cbn1cbi8vIHNob3cgbWV0aG9kXG5mdW5jdGlvbiBzaG93KGNvbnRhaW5lcklkKSB7XG4gIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2NvbnRhaW5lcklkfSBzdmdgKTtcbiAgc2NhbGVJbk91dChzdmcsIDEwMDAsICdpbicpO1xufVxuLy8gaGlkZSBtZXRob2RcbmZ1bmN0aW9uIGhpZGUoY29udGFpbmVySWQpIHtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Y29udGFpbmVySWR9IHN2Z2ApO1xuICBzY2FsZUluT3V0KHN2ZywgMTAwMCwgJ291dCcpO1xufVxuXG4vLyBjcmVhdGUgY2lyY2xlIGFzIERPTSBlbGVtZW50XG5mdW5jdGlvbiBjcmVhdGVDaXJjbGUodHlwZSwgdmFsdWUpIHtcbiAgbGV0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgJ2NpcmNsZScpO1xuXG4gIC8vIGdpdCBmaWxsZWQgcGVyY2FudGFnZSBiYXNlZCBvbiBjdXJyZW50IHZhbHVlXG4gIGxldCBwZXJjZW50YWdlID0gKDEwMCAtIHZhbHVlKSAvIDEwMCAqIGNpcmNsZUxlbmd0aDtcblxuICAvLyBhZGRpbmcgZGVmYXVsdCBzdHlsZVxuICBjaXJjbGUuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IDA7XG4gIGNpcmNsZS5zdHlsZS50cmFuc2l0aW9uID0gJ3N0cm9rZS1kYXNob2Zmc2V0IC41cyBlYXNlJztcbiAgY2lyY2xlLnN0eWxlLnN0cm9rZSA9ICcjY2NjY2NjJztcbiAgY2lyY2xlLnN0eWxlLnN0cm9rZVdpZHRoID0gJzIwcHgnO1xuICBjaXJjbGUuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciBjZW50ZXInO1xuXG4gIC8vIGFkZGluZyBzdmcgYXR0cmlidXRlc1xuICBjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgMTAwKTtcbiAgY2lyY2xlLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsIDEwMCk7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsIHJhZGl1cyk7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLWRhc2hhcnJheScsIGNpcmNsZUxlbmd0aCk7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICd0cmFuc3BhcmVudCcpO1xuICBjaXJjbGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS1kYXNob2Zmc2V0JywgMTAwKTtcblxuICAvLyBkZXBlbmRpbmcgb24gaW5uZXIgY2lyY2xlIG9yIG91dGVyIGNpcmNsZSBtb2RpZnlpbmcgYXR0cmlidXRlcyBhbmQgc3R5bGVcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnaW5uZXInOlxuICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgICBudWxsLFxuICAgICAgICAnY2xhc3MnLFxuICAgICAgICAncHJvZ3Jlc3MtYmFyX19jaXJjbGUgcHJvZ3Jlc3MtYmFyX19jaXJjbGUtLWlubmVyJ1xuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ291dGVyJzpcbiAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgbnVsbCxcbiAgICAgICAgJ2NsYXNzJyxcbiAgICAgICAgJ3Byb2dyZXNzLWJhcl9fY2lyY2xlIHByb2dyZXNzLWJhcl9fY2lyY2xlLS1vdXRlcidcbiAgICAgICk7XG4gICAgICBjaXJjbGUuc3R5bGUuc3Ryb2tlID0gJyNmZmRiNGQnO1xuICAgICAgY2lyY2xlLnN0eWxlLnN0cm9rZUxpbmVjYXAgPSAncm91bmQnO1xuICAgICAgY2lyY2xlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQgPSBwZXJjZW50YWdlO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGNpcmNsZTtcbn1cblxuLy8gY3JlYXRlIHN2ZyBtZXRob2RcbmZ1bmN0aW9uIGNyZWF0ZVN2ZygpIHtcbiAgbGV0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgJ3N2ZycpO1xuICAvLyBzZXR0aW5nIFNWRyBhdHRyaWJ1dGVzXG4gIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaWQnLCAncHJvZ3Jlc3MnKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsICdwcm9ncmVzcy1iYXInKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsICcyMDAnKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAnMjAwJyk7XG4gIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmVyc2lvbicsICcxLjEnKTtcbiAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3UG9ydCcsICcwIDAgMTAwIDEwMCcpO1xuXG4gIC8vIHdlIG5lZWQgaXQgdG8gc3RhcnQgZnJvbSAxMiBvJ2Nsb2NrXG4gIC8vIHNvIHJvdGF0ZSBzdmcgYnkgOTAgZGVncmVzcywgYmVjYXVzZSBjaXJjbGUncyBzdHJva2Ugc3RhcnRzIGF0IDMgbydjbG9ja1xuICBzdmcuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgtOTBkZWcpJztcblxuICByZXR1cm4gc3ZnO1xufVxuXG4vLyBzZXQgcmVxSWQgdGhhdCBuZWVkZWQgZm9yIGNhbmNlbGluZyBhbmltYXRpb25cbi8vIHJlcUlkIGlzIHVwZGF0ZWQgZXZlcnkgZnJhbWVcbmxldCByZXFJZCA9IG51bGw7XG5cbmNvbnN0IGdldFByb2dyZXNzID0gKHsgZWxhcHNlZCwgdG90YWwgfSkgPT4gTWF0aC5taW4oZWxhcHNlZCAvIHRvdGFsLCAxKTtcbi8vIHN0YXJ0aW5nIHNwaW4gYW5pbWF0aW9uXG5mdW5jdGlvbiBzdGFydEFuaW1hdGlvbihjaXJjbGUsIHBlcmlvZCkge1xuICBsZXQgdGltZSA9IHtcbiAgICBzdGFydDogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgdG90YWw6IHBlcmlvZFxuICB9O1xuXG4gIGNvbnN0IGRyYXcgPSBub3cgPT4ge1xuICAgIHRpbWUuZWxhcHNlZCA9IG5vdyAtIHRpbWUuc3RhcnQ7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBnZXRQcm9ncmVzcyh0aW1lKTtcblxuICAgIGNpcmNsZS5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7MzYwICogcHJvZ3Jlc3N9ZGVnKWA7XG4gICAgaWYgKHByb2dyZXNzID09IDEpIHRpbWUuc3RhcnQgPSBub3c7XG4gICAgcmVxSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gIH07XG5cbiAgcmVxSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG59XG4vLyBzdG9wIHNwaW4gYW5pbWF0aW9uXG5mdW5jdGlvbiBzdG9wQW5pbWF0aW9uKGNpcmNsZSkge1xuICBjaXJjbGUuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgtOTBkZWcpYDtcbiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxSWQpO1xufVxuXG4vLyBzY2FsZSBpbiBvdXQgYW5pbWF0aW9uXG5mdW5jdGlvbiBzY2FsZUluT3V0KGNpcmNsZSwgZHVyYXRpb24sIGRpcmVjdGlvbikge1xuICBsZXQgdGltZSA9IHtcbiAgICBzdGFydDogcGVyZm9ybWFuY2Uubm93KCksXG4gICAgdG90YWw6IGR1cmF0aW9uXG4gIH07XG4gIC8vIGVhc2luZyBmdW5jdGlvblxuICBjb25zdCBlYXNlT3V0RWxhc3RpYyA9IHByb2dyZXNzID0+XG4gICAgTWF0aC5wb3coMiwgLTEwICogcHJvZ3Jlc3MpICogTWF0aC5zaW4oKHByb2dyZXNzIC0gMC4xKSAqIDUgKiBNYXRoLlBJKSArIDE7XG5cbiAgY29uc3QgZHJhdyA9IG5vdyA9PiB7XG4gICAgdGltZS5lbGFwc2VkID0gbm93IC0gdGltZS5zdGFydDtcbiAgICBjb25zdCBwcm9ncmVzcyA9IGdldFByb2dyZXNzKHRpbWUpO1xuICAgIGNvbnN0IHZhbHVlID0gZWFzZU91dEVsYXN0aWMocHJvZ3Jlc3MpO1xuXG4gICAgLy8gZGVwZW5kIG9uIGFuaW1hdGlvbiBkaXJlY3Rpb24gYXBwbHkgdHJhbnNmb3JtXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2luJykge1xuICAgICAgY2lyY2xlLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3ZhbHVlfSlgO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnb3V0Jykge1xuICAgICAgY2lyY2xlLnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgkezEgLSB2YWx1ZX0pYDtcbiAgICB9XG4gICAgLy8gaWYgYW5pbWF0aW9uIGlzIDEwMCUgdGhlbiByZXR1cm5cbiAgICBpZiAocHJvZ3Jlc3MgPT0gMSkgcmV0dXJuO1xuICAgIC8vIGdvIHRvIG5leHQgZnJhbWVcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gIH07XG4gIC8vc3RhcnQgYW5pbWF0aW9uXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbn1cblxuLyoqIEV4cG9ydCBQcm9ncmVzcyBjbGFzcy4gKi9cbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzO1xuIiwiaW1wb3J0ICcuL3Nhc3Mvc3R5bGUuc2Fzcyc7XG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi9jb21wb25lbnRzL1Byb2dyZXNzJztcblxubGV0IHByb2dyZXNzID0gdW5kZWZpbmVkO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYXBwKTtcblxuZnVuY3Rpb24gYXBwKCkge1xuICBwcm9ncmVzcyA9IG5ldyBQcm9ncmVzcygnY29udGFpbmVyJyk7XG4gIHByb2dyZXNzLnNldE1vZCgnbm9ybWFsJyk7XG5cbiAgbGV0IGlucHV0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtdmFsdWUnKTtcbiAgbGV0IHN3aXRjaEFuaW1hdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoLWFuaW1hdGUnKTtcbiAgbGV0IHN3aXRjaEhpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3dpdGNoLWhpZGUnKTtcblxuICBpbnB1dFZhbHVlLm9uaW5wdXQgPSBoYW5kbGVWYWx1ZTtcblxuICBzd2l0Y2hBbmltYXRlLm9uY2hhbmdlID0gaGFuZGxlU3dpdGNoQW5pbWF0ZTtcbiAgc3dpdGNoSGlkZS5vbmNoYW5nZSA9IGhhbmRsZVN3aXRjaEhpZGU7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbHVlKGV2ZW50KSB7XG4gIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQodGhpcy52YWx1ZSk7XG4gIHRoaXMudmFsdWUgPiAxMDBcbiAgICA/ICh0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCAyKSlcbiAgICA6IHByb2dyZXNzLnNldFZhbHVlKHRoaXMudmFsdWUpO1xufVxuZnVuY3Rpb24gaGFuZGxlU3dpdGNoQW5pbWF0ZShldmVudCkge1xuICB0aGlzLmNoZWNrZWQgPyBwcm9ncmVzcy5zZXRNb2QoJ2FuaW1hdGVkJywgJ3llcycpIDogcHJvZ3Jlc3Muc2V0TW9kKCdub3JtYWwnKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3dpdGNoSGlkZShldmVudCkge1xuICB0aGlzLmNoZWNrZWQgPyBwcm9ncmVzcy5zZXRNb2QoJ2hpZGRlbicpIDogcHJvZ3Jlc3Muc2V0TW9kKCdub3JtYWwnKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=